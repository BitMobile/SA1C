
// Задает вопрос о продолжении действия, влекущего к потере изменений.
//
// Параметры:
//  Отказ               - Булево - возвращаемый параметр, признак отказа от выполняемого действия;
//  Модифицированность  - Булево - признак модифицированности формы, из которой вызывается данная процедура;
//  ДействиеВыбрано     - Булево - признак выбора пользователем действия, приводящего к закрытию формы;
//  ТекстПредупреждения - Строка - текст диалога с пользователем.
//
Процедура ЗапроситьПодтверждениеЗакрытияФормы(Отказ, Модифицированность = Истина, ДействиеВыбрано = Ложь, ТекстПредупреждения = "") Экспорт
	
	Если ДействиеВыбрано = Истина Или Не Модифицированность Тогда 
		Возврат;
	КонецЕсли;
	
	ТекстВопроса = ?(ПустаяСтрока(ТекстПредупреждения), 
		НСтр("ru = 'Данные были изменены, внесенные изменения будут отменены.
				   |Отменить и закрыть?'"),
		ТекстПредупреждения);
		
	//OpenFormDoQueryBox(ТекстВопроса);
		
	//Если Результат = КодВозвратаДиалога.Нет Тогда
	//	Отказ = Истина;
	//КонецЕсли;
	
КонецПроцедуры

Procedure OpenFormDoQueryBox(Source, Text, Owner) Export
	Parameters = New Structure;
	Parameters.Insert("Source", Source);
	Parameters.Insert("Text", Text);
	Form = GetForm("CommonForm.DoQueryBox", Parameters, Owner);
	Form.Open();
EndProcedure

